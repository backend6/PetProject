<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.user.mapper.UserMapper">


	<insert id="createUser" parameterType="com.user.model.UserVO">
		<selectKey keyProperty="idx" resultType="_int"
			order="BEFORE">
			select idx_seq.nextval from dual
			
		</selectKey>
		insert into members
		values(#{mid},#{nickname},#{pwd},#{email},#{uname},#{tel1},#{tel2},#{tel3}
		,#{birthday},#{addr1:VARCHAR},#{addr2:VARCHAR},#{slicense},#{lfile},#{idx},#{post},#{addr3},#{experience},'G')
	</insert>
	
	<insert id="createUserS" parameterType="com.user.model.UserVO">
		<selectKey keyProperty="idx" resultType="_int"
			order="BEFORE">
			select idx_seq.nextval from dual
			
		</selectKey>
		insert into members
		values(#{mid},#{nickname},#{pwd},#{email},#{uname},#{tel1},#{tel2},#{tel3}
		,#{birthday},#{addr1:VARCHAR},#{addr2:VARCHAR},#{slicense},#{lfile},#{idx},#{post},#{addr3},#{experience},'S')
	</insert>

	<select id="idCheck" resultType="int" parameterType="string">
		select idx from members where mid=#{value}
	</select>

	<select id="nickCheck" resultType="int" parameterType="string">
		select idx from members where nickname=#{value}
	</select>

	 <select id="findUser" resultType="user" parameterType="user"> 
	select * from members where mid=#{mid} </select> 
	
</mapper>