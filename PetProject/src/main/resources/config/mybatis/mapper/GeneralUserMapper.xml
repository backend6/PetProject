<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.user.mapper.GeneralMapper">
	
	<insert id = "insertGeneral" parameterType="pet">
		<selectKey keyProperty="pno" resultType="int" order="BEFORE">
			SELECT pet_seq.nextval from dual
		</selectKey>
		INSERT INTO mypet
		VALUES (#{nickname},#{pname},#{species1},#{species2},#{gender},#{bday},#{weight},#{particulars},#{image}, #{pno})
	</insert>
	
	<select id="selectOnePet" resultType="pet" parameterType="_int">
		select * from mypet where pno=1
	</select>
	
	<select id="selectAllPet" resultType="pet">
		select * from mypet
	</select>
	
	<!-- 회원정보 수정 -->
	<select id="getUserInfo" resultType="user" parameterType="int">
		select * from members where idx=#{value}
	</select>
	
	<update id="editUserInfo" parameterType="user">
		update members 
		set nickname=#{nickname}, pwd=#{pwd}, email=#{email}, uname=#{uname}, tel1=#{tel1}, tel2=#{tel2},
			tel3=#{tel3}, addr1=#{addr1}, addr2=#{addr2}, addr3=#{addr3}, slicense=#{slicense}, lfile=#{lfile}, 
			post=#{post}, experience=#{experience}
		where idx=#{idx}
	</update>
	
</mapper>